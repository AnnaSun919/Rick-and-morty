[{"/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/index.js":"1","/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/App.js":"2","/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/config.js":"3","/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/Character/search.js":"4","/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/DropdownMenu/DropdownItem.js":"5","/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/Backdrop/Backdrop.js":"6","/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/DropdownMenu/DropDown.js":"7","/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/reportWebVitals.js":"8","/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/character.js":"9","/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/singleCharater.js":"10"},{"size":500,"mtime":1641570620244,"results":"11","hashOfConfig":"12"},{"size":314,"mtime":1641571045818,"results":"13","hashOfConfig":"12"},{"size":70,"mtime":1641570620256,"results":"14","hashOfConfig":"12"},{"size":810,"mtime":1641571045818,"results":"15","hashOfConfig":"12"},{"size":327,"mtime":1641571045818,"results":"16","hashOfConfig":"12"},{"size":139,"mtime":1641571045818,"results":"17","hashOfConfig":"12"},{"size":457,"mtime":1641571045818,"results":"18","hashOfConfig":"12"},{"size":362,"mtime":1641570620236,"results":"19","hashOfConfig":"12"},{"size":7545,"mtime":1641571045819,"results":"20","hashOfConfig":"12"},{"size":2268,"mtime":1641571045819,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"17iuh3e",{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/index.js",[],["44","45"],"/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/App.js",[],"/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/config.js",[],"/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/Character/search.js",[],"/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/DropdownMenu/DropdownItem.js",[],"/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/Backdrop/Backdrop.js",[],"/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/DropdownMenu/DropDown.js",[],"/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/reportWebVitals.js",[],"/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/character.js",["46"],"import React, { useState, useEffect } from \"react\";\n\nimport Dropdownmenu from \"./DropdownMenu/DropDown\";\nimport DropdownItem from \"./DropdownMenu/DropdownItem\";\nimport axios from \"axios\";\nimport Backdrop from \"./Backdrop/Backdrop\";\nimport { API_URL } from \"../config\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport SingleCharater from \"./singleCharater\";\n\nfunction Character() {\n  let [basic, setBasic] = useState({\n    totalPage: \"\",\n    totalCharacter: \"\",\n    character: \"\",\n  });\n\n  let [APIpage, setAPIPage] = useState(1);\n  const [showDetail, setShowDetail] = useState(false);\n  const [characterNo, setCharacterNo] = useState(null);\n  let [serachItem, setSeachItem] = useState(null);\n  const [pageNoArr, setPageNoArr] = useState([]);\n  const [date, setDate] = useState(false);\n  const [searchOther, setSearchOther] = useState(false);\n  const [findNothing, setfindNothing] = useState(null);\n  let [n, setn] = useState(0);\n\n  useEffect(() => {\n    try {\n      async function getcharacter() {\n        let dataArray = [];\n\n        let response = await axios.get(`${API_URL}/character/?page=${APIpage}`);\n\n        if (serachItem) {\n          if (searchOther) {\n            let searchValue = serachItem[\"species\"];\n            let searchValue1 = serachItem[\"status\"];\n            let searchValue2 = serachItem[\"name\"];\n            response = await axios.get(\n              `${API_URL}/character/?page=${APIpage}&status=${searchValue1}&species=${searchValue}&name=${searchValue2}`\n            );\n            if (date) {\n              let test = [];\n              let page = 1;\n              let totalPage = response.data.info.pages;\n              while (page <= totalPage) {\n                response = await axios.get(\n                  `${API_URL}/character/?page=${page}&status=${searchValue1}&species=${searchValue}&name=${searchValue2}`\n                );\n                page++;\n\n                test.push(\n                  response.data.results.filter((elem) => {\n                    return (\n                      serachItem[\"startDate\"] <= elem.created &&\n                      elem.created <= serachItem[\"endDate\"]\n                    );\n                  })\n                );\n              }\n\n              dataArray = test.flat();\n            }\n          } else if (date) {\n            let response = await axios.get(\n              `${API_URL}/character/?page=${APIpage}`\n            );\n            let totalPage = response.data.info.pages;\n            let i = 1;\n            let test = [];\n            console.log(totalPage);\n            while (totalPage >= i) {\n              let responseData = await axios.get(\n                `${API_URL}/character/?page=${i}`\n              );\n              i++;\n\n              test.push(\n                responseData.data.results.filter((elem) => {\n                  return (\n                    serachItem[\"startDate\"] <= elem.created &&\n                    elem.created <= serachItem[\"endDate\"]\n                  );\n                })\n              );\n            }\n            dataArray = test.flat();\n          }\n        }\n\n        pageNo(response.data.info.count);\n        setBasic({\n          totalCharacter: response.data.info.count,\n          character: response.data.results,\n          totalPage: response.data.info.pages,\n        });\n\n        if (date) {\n          if (dataArray.length === 0) {\n            setfindNothing(\"Find no informaion\");\n          }\n\n          setBasic({\n            totalCharacter: dataArray.length,\n            character: dataArray,\n          });\n\n          pageNo(dataArray.length);\n        }\n      }\n\n      const pageNo = (totalCharacter) => {\n        let totalPage = 0;\n        totalCharacter % 10 === 0\n          ? (totalPage = totalCharacter / 10)\n          : (totalPage = totalCharacter / 10 + 1);\n\n        const pageArr = [];\n        for (let i = 1; i <= totalPage; i++) {\n          pageArr.push(i);\n        }\n        setPageNoArr(pageArr);\n      };\n\n      getcharacter();\n    } catch (err) {\n      console.log(err);\n    }\n  }, [serachItem, APIpage, date, searchOther]);\n\n  const handleSearch = (event) => {\n    event.preventDefault();\n\n    const { species, name, status, startDate, endDate } = event.target;\n    if ((startDate.value, endDate.value)) {\n      setDate(true);\n    }\n    if (species.value || species.value || name.value) {\n      setSearchOther(true);\n    } else if ((!startDate.value, !endDate.value)) {\n      setDate(false);\n    }\n\n    setfindNothing(\"\");\n    setAPIPage(1);\n\n    setSeachItem({\n      species: species.value,\n      name: name.value,\n      status: status.value,\n      startDate: startDate.value,\n      endDate: endDate.value,\n    });\n  };\n\n  const hanldDetails = (e, number, show) => {\n    e.preventDefault();\n\n    if (show === \"close\") {\n      setShowDetail(false);\n    } else {\n      setCharacterNo(number);\n      setShowDetail(true);\n    }\n  };\n\n  const pageHelper = (elem) => {\n    if (date) {\n      // setShowItem(basic.character.slice(elem * 10 - 10, elem * 10));\n      setn(elem * 10 - 10, elem * 10);\n    } else {\n      if (elem % 2 === 0) {\n        setn(10);\n\n        // setTimeout(() => {\n        //   setBasic((currentState) => {\n        //     setShowItem(currentState.character.slice(10, 20));\n        //     return currentState;\n        //   });\n        // }, 1000);\n      } else {\n        setn(0);\n      }\n    }\n  };\n\n  const forShowItem = (e, elem) => {\n    e.preventDefault();\n    if (!date) {\n      elem % 2 === 0 ? setAPIPage(elem / 2) : setAPIPage(Math.ceil(elem / 2));\n    }\n    pageHelper(elem);\n\n    console.log(n);\n\n    return (\n      <>\n        <h1>Rick && Morty =)</h1>\n        <DropdownItem>\n          <Dropdownmenu props={pageNoArr} onShow={forShowItem} />\n        </DropdownItem>\n\n        <form onSubmit={handleSearch}>\n          <label>Species</label>\n          <input placeholder=\"Filter Species\" name=\"species\" />\n          <label>Name</label>\n          <input placeholder=\"Filter Name\" name=\"name\" />\n          <label>Status</label>\n          <input placeholder=\"Filter Status\" name=\"status\" />\n          <br />\n          <label>Created Date: From </label>\n          <input placeholder=\"Filter Status\" name=\"startDate\" type=\"date\" />\n          to\n          <input placeholder=\"Filter Status\" name=\"endDate\" type=\"date\" />\n          <button type=\"submit\">Submit</button>\n          <button type=\"reset\">Clear</button>\n        </form>\n\n        <span>{findNothing && <span>{findNothing}</span>}</span>\n        <div className=\"character_container\">\n          {basic.character &&\n            basic.character.slice(n, n + 10).map((element, index) => (\n              <>\n                <div\n                  key={index}\n                  className=\"item\"\n                  onClick={(e) => {\n                    hanldDetails(e, element.id, \"open\");\n                  }}\n                >\n                  <img src={element.image} alt=\"img\" />\n                  <br />\n                  <span>{element.name}</span>\n                  <br />\n                  <span>{element.species}</span>\n                  <br />\n                  <span>{element.status}</span>\n                  <br />\n                  <span>{element.created.slice(0, 10)}</span>\n                  <br />\n                </div>\n              </>\n            ))}\n        </div>\n        {showDetail && <Backdrop />}\n        {showDetail && (\n          <SingleCharater\n            characterNo={characterNo}\n            onHandleDetails={hanldDetails}\n          />\n        )}\n      </>\n    );\n  };\n}\n\nexport default Character;\n","/Users/annasun/Desktop/IH-MAY-2021/Assignment/rick_and_morty/src/Component/singleCharater.js",[],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":188,"column":9,"nodeType":"53","messageId":"54","endLine":188,"endColumn":20},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"no-unused-vars","'forShowItem' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]